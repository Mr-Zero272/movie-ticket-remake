<figure *ngIf="!loading; else loadingState">
  <div class="mb-5 flex gap-x-2">
    <div class="w-1/6 space-y-5">
      <div class="flex flex-shrink-0 flex-col text-center leading-none">
        <span class="mb-2 border-b-2 border-gray-200 pb-2 text-gray-500">{{ startTime | date: 'MMM' }}</span>
        <span class="text-lg font-medium leading-none text-gray-800">{{ startTime | date: 'dd' }}</span>
      </div>
      <div class="w-full -rotate-90 text-center text-gray-500">
        <span>{{ startTime | date: 'a' }}</span>
      </div>
      <div class="w-full -rotate-90 text-center text-gray-500">
        <span class="font-medium leading-none text-gray-800">{{ startTime | date: 'HH:mm' }}</span>
      </div>
    </div>
    <img class="h-80 flex-1 rounded-lg" [src]="poster" alt="poster" />
  </div>
  <figcaption class="px-4">
    <div>
      <div class="mb-1 text-xs font-medium tracking-widest text-primary">TITLE</div>
      <h6 class="mb-3 line-clamp-2 text-xl font-medium text-gray-900">{{ title }}</h6>
      <div class="flex gap-x-5">
        <div class="mb-3 flex items-center gap-x-3 text-xs text-gray-400">
          <span>{{ runTime }} MIN</span>
          <span class="h-3 w-[0.1rem] rounded-full bg-gray-400 dark:bg-white"></span>
          <span>{{ firstGenre }}</span>
        </div>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="size-4 cursor-pointer text-gray-500"
          [ngClass]="{ 'fill-red-500 text-red-500': false }"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"
          />
        </svg>
      </div>
      <p class="mb-5 line-clamp-3 leading-relaxed">
        {{ overview }}
      </p>
      <p>
        Showing type: <span class="font-medium">{{ type }}</span>
      </p>
    </div>
  </figcaption>
</figure>

<ng-template #loadingState>
  <figure class="animate-pluse">
    <div class="mb-5 flex gap-x-2">
      <div class="w-1/6 space-y-5">
        <div class="flex flex-shrink-0 flex-col justify-center leading-none">
          <div class="mb-2 h-6 w-7 rounded-full border-b-2 border-gray-200 bg-gray-200 pb-2"></div>
          <div class="mb-2 h-6 w-7 rounded-full bg-gray-200"></div>
        </div>
        <div class="w-full -rotate-90 text-center text-gray-500">
          <div class="mb-2 h-6 w-7 rounded-full bg-gray-200"></div>
        </div>
        <div class="w-full -rotate-90 text-center text-gray-500">
          <div class="mb-2 h-6 w-10 rounded-full bg-gray-200"></div>
        </div>
      </div>
      <div class="h-80 flex-1 rounded-lg bg-slate-200"></div>
    </div>
    <figcaption class="px-4">
      <div>
        <div class="mb-2 h-4 w-16 rounded-full bg-gray-200"></div>
        <div class="mb-2 h-8 w-44 rounded-full bg-gray-200"></div>
        <div class="flex gap-x-5">
          <div class="mb-3 flex items-center gap-x-3 text-xs text-gray-400">
            <div class="h-4 w-10 rounded-full bg-gray-200"></div>
            <span class="h-3 w-[0.1rem] rounded-full bg-gray-400 dark:bg-white"></span>
            <div class="h-4 w-10 rounded-full bg-gray-200"></div>
          </div>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-4 cursor-pointer fill-gray-200 text-gray-200"
            [ngClass]="{ 'fill-red-500 text-red-500': false }"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"
            />
          </svg>
        </div>
        <div class="flex gap-x-2">
          <div class="mb-2 h-3 w-48 rounded-full bg-gray-200"></div>
          <div class="mb-2 h-3 w-10 rounded-full bg-gray-200"></div>
        </div>
        <div class="flex gap-x-2">
          <div class="mb-2 h-3 w-32 rounded-full bg-gray-200"></div>
          <div class="mb-2 h-3 w-20 rounded-full bg-gray-200"></div>
        </div>
        <div class="flex gap-x-2">
          <div class="mb-2 h-3 w-10 rounded-full bg-gray-200"></div>
          <div class="mb-2 h-3 w-48 rounded-full bg-gray-200"></div>
        </div>
        <div class="mb-3 flex gap-x-2">
          <div class="mb-2 h-3 w-24 rounded-full bg-gray-200"></div>
          <div class="mb-2 h-3 w-24 rounded-full bg-gray-200"></div>
        </div>
        <div class="mb-2 h-5 w-32 rounded-full bg-gray-200"></div>
      </div>
    </figcaption>
  </figure>
</ng-template>
